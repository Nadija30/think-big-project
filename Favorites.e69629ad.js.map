{"mappings":"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","sources":["src/favorites.js","src/js/favorites-recipes.js"],"sourcesContent":["import './js/burger-menu';\nimport './js/favorites-recipes';\nimport './js/footer';\nimport './js/render-cards';\nimport './js/change-theme';\nimport './js/order.modal';\nimport './js/pop-up-modal';\nimport './js/rating-modal';\n","import { initRatings } from './rating-modal';\nimport Pagination from 'tui-pagination';\nimport { Loading } from 'notiflix';\n\nconst favorCatBox = document.querySelector('.favorites__categories-list');\nconst favorGallBox = document.querySelector('.favorites__gallery-list');\nconst paginationEl = document.querySelector(`.js-pages`);\nconst notAtended = document.querySelector('.favorites__not-atendent');\nconst favorCarWrap = document.querySelector(`.favorites__categories__wrap`);\nconst allCategoriesBtn = document.querySelector(\n    `.favorites__all-categories-btn`\n);\n\nfavorCatBox.addEventListener('click', filterCards);\nallCategoriesBtn.addEventListener(`click`, () => {\n    renderCards();\n});\n\nlet categoriesArray = [];\nlet favoriteArr = [];\nlet pagination = null;\n\nlet page = 1;\nlet cardsPerPage = 12;\nlet totalPages = 1;\n\n// Опції для пагінації взяті у Олега\nconst options = {\n    totalItems: 80,\n    itemsPerPage: 8,\n    visiblePages: window.innerWidth < 768 ? 2 : 3,\n    page: 1,\n    centerAlign: false,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n        page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n        currentPage:\n            '<span class=\"tui-page-btn tui-is-selected\">{{page}}</span>',\n        moveButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-is-active tui-{{type}}\">' +\n            '</a>',\n        disabledMoveButton:\n            '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n            '</span>',\n        moreButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n            '</a>',\n    },\n};\n\nif (window.innerWidth < 728) {\n    cardsPerPage = 8;\n}\n\ngetFromLocalStorage();\nrenderCategoriesBtn();\nrenderCards();\ninitRatings();\n\n// Дістаємо з ЛС і кладемо картки в масив і категорії також(тут одразу фільруємо категорії)\nfunction getFromLocalStorage() {\n    for (let key in localStorage) {\n        if (key.length >= 24 && !key.includes(' ')) {\n            try {\n                const value = localStorage.getItem(key);\n                const parsedValue = JSON.parse(value);\n                favoriteArr.push(parsedValue);\n                if (!categoriesArray.includes(parsedValue.category)) {\n                    categoriesArray.push(parsedValue.category);\n                }\n            } catch (error) {\n                console.log(`Key: ${key}, Error parsing value: `, error);\n            }\n        }\n    }\n}\n\n// Рендеримо картки залежно від довжини масиву, передаємо сюди масив відфільтровіаних карток для категорій, при першому рендері дефолт це загальний масив(Треба на \"All categories\" теж додади рендер без передачі змінної)\nfunction renderCards(cardsArr = favoriteArr) {\n    // Якщо довжина менше за кіл-ть карток на сторінці то просто рендеримо картки\n    if (cardsArr.length > 0 && cardsArr.length <= cardsPerPage) {\n        // Для прибирання пагінації нативно перетираємо\n        totalPages = 1;\n        createFavCards(cardsArr);\n        createPagination();\n        favorCarWrap.classList.remove('is-hidden');\n        notAtended.classList.add('is-hidden');\n    }\n    // Якщо довжина більше за кіл-ть карток на сторінці рахуємо загальну кількість карток і при колбеку пагінації вона вже створюється\n    else if (cardsArr.length > cardsPerPage) {\n        totalPages = cardsArr.length / cardsPerPage;\n        const pageItems = cardsArr.slice(0, cardsPerPage);\n        createFavCards(pageItems);\n        createPagination();\n        favorCarWrap.classList.remove('is-hidden');\n        notAtended.classList.add('is-hidden');\n    }\n    // Це не чіпав здається\n    else if (cardsArr.length === 0) {\n        if (window.innerWidth < 768) {\n            const imageBox = document.querySelector('.favorites__image-box');\n            const notAtended = document.querySelector(\n                '.favorites__not-atendent'\n            );\n            imageBox.classList.add('is-hidden');\n            notAtended.classList.add('favorites__not-atendent-empty');\n        }\n    }\n}\n// Функція створення карток, просто з твого макета, і тут ініціюємо одразу зірки\nfunction createFavCards(cards) {\n    favorGallBox.innerHTML = '';\n    cards.forEach(card => {\n        const favoriteCard = `<li class=\"favorites__gallery-list-item\">\n                   <div class=\"favorites__card\" style=\"background: var(--light-theme-background-color-cards-gradient),\n        url(${card.preview});\n    background-repeat: no-repeat;\n    background-size: cover;\">\n                    <div class=\"favorites__card-info\">\n                     <h2 class=\"favorites__card-tittle\">${card.title}</h2>\n                      <p class=\"favorites__card-description\">${\n                          card.description\n                      }</p>\n                      <div class=\"rating card__rating\"><p class=\"rating__value\">${card.rating.toFixed(\n                          1\n                      )}</p></div>\n                      <button class=\"favorites__card-btn\" data-id=\"${\n                          card._id\n                      }\">See recipe</button>\n                   </div>\n                   <button class=\"favorites__card-heart\" type=\"button\">\n               <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" class=\"favorites__svg-heart\" data-id=\"${\n                   card._id\n               }\">\n               <path class=\"favorites__svg-path\" data-id=\"${\n                   card._id\n               }\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                   d=\"M10.994 4.708C9.162 2.565 6.105 1.988 3.81 3.95c-2.296 1.962-2.62 5.242-.816 7.563 1.5 1.929 6.037 5.998 7.524 7.315.166.147.25.221.346.25a.464.464 0 0 0 .262 0c.097-.029.18-.103.347-.25 1.487-1.317 6.025-5.386 7.524-7.315 1.803-2.32 1.52-5.622-.816-7.563-2.336-1.942-5.353-1.386-7.186.757Z\"\n                   clip-rule=\"evenodd\" />\n               </svg>\n               </button>\n                 </div>\n               </li>`;\n        favorGallBox.insertAdjacentHTML('beforeend', favoriteCard);\n    });\n    initRatings();\n}\n\n// Пагіная взята у Олега, підставлені наші данні, якщо чесно не дуже розбирався в ній\nfunction createPagination(cardsArr = favoriteArr) {\n    if (totalPages === 1) {\n        paginationEl.innerHTML = '';\n        return;\n    }\n\n    options.page = page;\n\n    options.totalItems = cardsArr.length + 1;\n\n    options.itemsPerPage = cardsPerPage;\n\n    pagination = new Pagination(paginationEl, options);\n\n    pagination.on('afterMove', event => {\n        options.page = event.page;\n\n        page = options.page;\n\n        Loading.dots('Loading data, please wait...');\n        const lastItemIndex = page * cardsPerPage;\n        const firstItemIndex = lastItemIndex - cardsPerPage;\n        const pageItems = favoriteArr.slice(firstItemIndex, lastItemIndex);\n        createFavCards(pageItems, favorGallBox);\n        options.totalItems = cardsArr.length + 1;\n        options.itemsPerPage = cardsPerPage;\n\n        Loading.remove();\n    });\n}\n// Теж твоя функція, просто фільтруємо на моменті додавання в масив тому тут вона компактна\nfunction renderCategoriesBtn() {\n    const renderArray = categoriesArray\n        .map(item => {\n            return `<li class=\"favorites__categories-item\">\n          <button type=\"button\" class=\"favorites__categories-btn\">${item}</button>\n          </li>`;\n        })\n        .join('');\n\n    favorCatBox.insertAdjacentHTML('beforeend', renderArray);\n}\n\n// Фільтруємо масив за категорією і знову рендеримо картки\nfunction filterCards(event) {\n    const pageItems = favoriteArr.filter(\n        card => card.category === event.target.textContent\n    );\n    renderCards(pageItems);\n}\n\nfavorGallBox.addEventListener('click', removeFromLocalStorageFavorites);\n\nfunction removeFromLocalStorageFavorites(event) {\n    if (event.target.tagName !== 'path') return;\n    event.target.classList.toggle('heart-svg-bg');\n    const currentHeartId = event.target.dataset.id;\n    localStorage.removeItem(`\"fav${currentHeartId}\"`);\n    location.reload();\n}\n"],"names":["parcelRequire","$4B7kY","$eab9ffdd8f15d0ae$var$favorCatBox","document","querySelector","$eab9ffdd8f15d0ae$var$favorGallBox","$eab9ffdd8f15d0ae$var$paginationEl","$eab9ffdd8f15d0ae$var$notAtended","$eab9ffdd8f15d0ae$var$favorCarWrap","$eab9ffdd8f15d0ae$var$allCategoriesBtn","addEventListener","event","$eab9ffdd8f15d0ae$var$renderCards","$eab9ffdd8f15d0ae$var$favoriteArr","filter","card","category","target","textContent","renderArray","$eab9ffdd8f15d0ae$var$categoriesArray","$eab9ffdd8f15d0ae$var$page","$eab9ffdd8f15d0ae$var$cardsPerPage","$eab9ffdd8f15d0ae$var$totalPages","$eab9ffdd8f15d0ae$var$options","totalItems","itemsPerPage","visiblePages","window","innerWidth","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","cardsArr","arguments","length","$eab9ffdd8f15d0ae$var$createFavCards","$eab9ffdd8f15d0ae$var$createPagination","classList","remove","add","pageItems","slice","imageBox","notAtended1","cards","innerHTML","forEach","favoriteCard","concat","preview","title","description","rating","toFixed","_id","insertAdjacentHTML","initRatings","$parcel$interopDefault","$1VFfL","on","$6JpON","Loading","dots","lastItemIndex","firstItemIndex","key","localStorage","includes","value","getItem","parsedValue","JSON","parse","push","error","console","log","$eab9ffdd8f15d0ae$var$getFromLocalStorage","map","item","join","tagName","toggle","currentHeartId","dataset","id","removeItem","location","reload"],"version":3,"file":"Favorites.e69629ad.js.map"}