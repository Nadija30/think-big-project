{"mappings":"gfAAAA,EAAA,S,ICwEUC,E,aArEJC,EAAcC,SAASC,cAAc,+BACrCC,EAAeF,SAASC,cAAc,4BACtCE,EAAkB,GAExBJ,EAAYK,iBAAiB,SA4E7B,SAAqBC,GACjB,IAAMC,EAAaN,SAASO,iBACxB,iCAEEC,EAAYR,SAASC,cAAc,kCACvBO,EAARC,UAAUC,OAAO,gCAE3BJ,EAAWK,SAAQ,SAAAC,GAMf,GAJAA,EAASH,UAAUC,OAAO,gCAC1BE,EAASH,UAAUC,OAAO,aAELE,EAASC,aAAa,qBACtBR,EAAMS,OAAOC,YAAa,CAC3C,GAEI,mBADAV,EAAMS,OAAOC,YAAYC,OAAOC,cAKhC,YAFAT,EAAUC,UAAUS,IAAI,gCAI5BN,EAASH,UAAUS,IAAI,Y,QA5FnC,WACI,IAAK,IAAIC,KAAOC,aACZ,GAAID,EAAIE,QAAU,KAAOF,EAAIG,SAAS,KAClC,IACI,IAAMC,EAAQH,aAAaI,QAAQL,GAC7BM,EAAcC,KAAKC,MAAMJ,GACzBK,EAAa5B,SAASC,cACxB,4BAEYD,SAASC,cACrB,+BAEIQ,UAAUC,OAAO,aACzBkB,EAAWnB,UAAUS,IAAI,aACzB,IAAMW,EAAe,6DAEbC,OAF0EL,EAAYb,SAAS,uEAElEkB,OAA7BL,EAAYM,QAAQ,WAEOD,OAFEL,EAAYO,MAAM,uIAGhBF,OADJL,EAAYO,MAAM,gEAEKF,OADnBL,EAAYQ,YAAY,kFAElBH,OADaL,EAAYS,OAAO,2EAIkBJ,OAHlDL,EAAYU,IAAI,8NAIxBL,OAD0DL,EAAYU,IAAI,2DAC1DL,OAAhBL,EAAYU,IAAI,ieAQrDhC,EAAgBiC,KAAKX,EAAYb,UAEjCV,EAAamC,mBAAmB,YAAaR,E,CAC/C,MAAOS,GACLC,QAAQC,IAAI,QAAYV,OAAJX,EAAI,2BAA0BmB,E,MAGtD,GAAIG,OAAOC,WAAa,IAAK,CACzB,IAAMC,EAAW3C,SAASC,cACtB,yBAEE2C,EAAa5C,SAASC,cACxB,4BAEJ0C,EAASlC,UAAUS,IAAI,aACvB0B,EAAWnC,UAAUS,IAAI,gC,EApDzC2B,IACA,EAAAC,EAAAC,eA8DUjD,EAJwBK,EAAgB6C,QAC1C,SAACC,EAAQC,EAAOC,G,OAAUA,EAAMC,QAAQH,KAAYC,C,IAInDG,KAAI,SAAAC,GACD,MAAO,8GACsDxB,OAALwB,EAAK,6B,IAGhEC,KAAK,IAEVxD,EAAYsC,mBAAmB,YAAavC,GA8BhDI,EAAaE,iBAAiB,SAE9B,SAAyCC,GACrC,GAA6B,SAAzBA,EAAMS,OAAO0C,QAAoB,OACrCnD,EAAMS,OAAOL,UAAUgD,OAAO,gBAC9B,IAAMC,EAAiBrD,EAAMS,OAAO6C,QAAQC,GAC5CxC,aAAayC,WAAW,OAAsB/B,OAAf4B,EAAe,MAC9CI,SAASC,Q","sources":["src/favorites.js","src/js/favorites-recipes.js"],"sourcesContent":["import './js/burger-menu';\nimport './js/favorites-recipes';\nimport './js/footer';\nimport './js/render-cards';\nimport './js/change-theme';\nimport './js/order.modal';\nimport './js/pop-up-modal';\nimport './js/rating-modal';\n","import { all } from 'axios';\nimport { initRatings } from './rating-modal';\n\nconst favorCatBox = document.querySelector('.favorites__categories-list');\nconst favorGallBox = document.querySelector('.favorites__gallery-list');\nconst categoriesArray = [];\n\nfavorCatBox.addEventListener('click', filterCards);\n\ngetFromLocalStorage();\ninitRatings();\nrenderCategoriesBtn();\n\nfunction getFromLocalStorage() {\n    for (let key in localStorage) {\n        if (key.length >= 24 && !key.includes(' ')) {\n            try {\n                const value = localStorage.getItem(key);\n                const parsedValue = JSON.parse(value);\n                const notAtended = document.querySelector(\n                    '.favorites__not-atendent'\n                );\n                const catList = document.querySelector(\n                    '.favorites__categories-list'\n                );\n                catList.classList.remove('is-hidden');\n                notAtended.classList.add('is-hidden');\n                const favoriteCard = `<li class=\"favorites__gallery-list-item\" data-categories=\"${parsedValue.category}\">\n          <div class=\"favorites__card\">\n            <img src=\"${parsedValue.preview}\" alt=\"${parsedValue.title}\" class=\"favorites__card-image\">\n            <div class=\"favorites__card-info\">\n              <h2 class=\"favorites__card-tittle\">${parsedValue.title}</h2>\n              <p class=\"favorites__card-description\">${parsedValue.description}</p>\n              <div class=\"rating card__rating\"><p class=\"rating__value\">${parsedValue.rating}</p></div>\n              <button class=\"favorites__card-btn\" data-id=\"${parsedValue._id}\">See recipe</button>\n            </div>\n            <button class=\"favorites__card-heart\" type=\"button\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" class=\"favorites__svg-heart\" data-id=\"${parsedValue._id}\">\n        <path class=\"favorites__svg-path\" data-id=\"${parsedValue._id}\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n            d=\"M10.994 4.708C9.162 2.565 6.105 1.988 3.81 3.95c-2.296 1.962-2.62 5.242-.816 7.563 1.5 1.929 6.037 5.998 7.524 7.315.166.147.25.221.346.25a.464.464 0 0 0 .262 0c.097-.029.18-.103.347-.25 1.487-1.317 6.025-5.386 7.524-7.315 1.803-2.32 1.52-5.622-.816-7.563-2.336-1.942-5.353-1.386-7.186.757Z\"\n            clip-rule=\"evenodd\" />\n        </svg>\n        </button>\n          </div>\n        </li>`;\n\n                categoriesArray.push(parsedValue.category);\n\n                favorGallBox.insertAdjacentHTML('beforeend', favoriteCard);\n            } catch (error) {\n                console.log(`Key: ${key}, Error parsing value: `, error);\n            }\n        } else {\n            if (window.innerWidth < 768) {\n                const imageBox = document.querySelector(\n                    '.favorites__image-box'\n                );\n                const notAtended = document.querySelector(\n                    '.favorites__not-atendent'\n                );\n                imageBox.classList.add('is-hidden');\n                notAtended.classList.add('favorites__not-atendent-empty');\n            }\n        }\n    }\n}\n\nfunction renderCategoriesBtn() {\n    const uniqueCategoriesArray = categoriesArray.filter(\n        (course, index, array) => array.indexOf(course) === index\n    );\n\n    const renderArray = uniqueCategoriesArray\n        .map(item => {\n            return `<li class=\"favorites__categories-item\">\n          <button type=\"button\" class=\"favorites__categories-btn\">${item}</button>\n          </li>`;\n        })\n        .join('');\n\n    favorCatBox.insertAdjacentHTML('beforeend', renderArray);\n}\n\nfunction filterCards(event) {\n    const categories = document.querySelectorAll(\n        '.favorites__gallery-list-item'\n    ); // массив лишек\n    const allCatBtn = document.querySelector('.favorites__all-categories-btn'); //кнопка все категории\n    allCatBtn.classList.remove('favorites__all-cat-chose-btn');\n\n    categories.forEach(category => {\n        //category в цикле это лишка\n        category.classList.remove('favorites__all-cat-chose-btn');\n        category.classList.remove('is-hidden');\n\n        const dataAtrValue = category.getAttribute('data-categories');\n        if (dataAtrValue !== event.target.textContent) {\n            if (\n                event.target.textContent.trim().toLowerCase() ===\n                'all categories'\n            ) {\n                allCatBtn.classList.add('favorites__all-cat-chose-btn');\n\n                return;\n            }\n            category.classList.add('is-hidden');\n        }\n    });\n}\n\nfavorGallBox.addEventListener('click', removeFromLocalStorageFavorites);\n\nfunction removeFromLocalStorageFavorites(event) {\n    if (event.target.tagName !== 'path') return;\n    event.target.classList.toggle('heart-svg-bg');\n    const currentHeartId = event.target.dataset.id;\n    localStorage.removeItem(`\"fav${currentHeartId}\"`);\n    location.reload();\n}\n"],"names":["parcelRequire","renderArray","$eab9ffdd8f15d0ae$var$favorCatBox","document","querySelector","$eab9ffdd8f15d0ae$var$favorGallBox","$eab9ffdd8f15d0ae$var$categoriesArray","addEventListener","event","categories","querySelectorAll","allCatBtn","classList","remove","forEach","category","getAttribute","target","textContent","trim","toLowerCase","add","key","localStorage","length","includes","value","getItem","parsedValue","JSON","parse","notAtended","favoriteCard","concat","preview","title","description","rating","_id","push","insertAdjacentHTML","error","console","log","window","innerWidth","imageBox","notAtended1","$eab9ffdd8f15d0ae$var$getFromLocalStorage","$4B7kY","initRatings","filter","course","index","array","indexOf","map","item","join","tagName","toggle","currentHeartId","dataset","id","removeItem","location","reload"],"version":3,"file":"Favorites.8997670c.js.map"}