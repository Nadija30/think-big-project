{"mappings":"oeAAAA,EAAA,S,iBCIA,MAAMC,EAAcC,SAASC,cAAc,+BACrCC,EAAeF,SAASC,cAAc,4BACtCE,EAAkB,GAExBJ,EAAYK,iBAAiB,SAyE7B,SAAqBC,GAEnB,MAAMC,EAAaN,SAASO,iBAAiB,iCACvCC,EAAYR,SAASC,cAAc,kCACvBO,EAARC,UAAUC,OAAO,gCAG3BJ,EAAWK,SAASC,IAClBA,EAASH,UAAUC,OAAO,gCAC1BE,EAASH,UAAUC,OAAO,aAI1B,GADqBE,EAASC,aAAa,qBACtBR,EAAMS,OAAOC,YAAa,CAG7C,GAAsD,mBAAlDV,EAAMS,OAAOC,YAAYC,OAAOC,cAGlC,YAFAT,EAAUC,UAAUS,IAAI,gCAI1BN,EAASH,UAAUS,IAAI,Y,QAxF7B,WAEE,IAAK,IAAIC,KAAOC,aAEd,GAAID,EAAIE,QAAU,KAAOF,EAAIG,SAAS,KAEpC,IACE,MAAMC,EAAQH,aAAaI,QAAQL,GAC7BM,EAAcC,KAAKC,MAAMJ,GACzBK,EAAa5B,SAASC,cAAc,4BAC1BD,SAASC,cAAc,+BAC/BQ,UAAUC,OAAO,aACzBkB,EAAWnB,UAAUS,IAAI,aACzB,MAAMW,EAAe,6DAA6DJ,EAAYb,8EAE9Ea,EAAYK,iBAAiBL,EAAYM,2IAEdN,EAAYM,oEACRN,EAAYO,4FACOP,EAAYQ,+RAIyBR,EAAYS,6DACtET,EAAYS,meAQzD/B,EAAgBgC,KAAKV,EAAYb,UAEjCV,EAAakC,mBAAmB,YAAaP,E,CAE7C,MAAOQ,GACPC,QAAQC,IAAI,QAAQpB,2BAA8BkB,E,MAGpD,GAAIG,OAAOC,WAAa,IAAK,CAC3B,MAAMC,EAAW1C,SAASC,cAAc,yBAClC2B,EAAa5B,SAASC,cAAc,4BAC1CyC,EAASjC,UAAUS,IAAI,aACvBU,EAAWnB,UAAUS,IAAI,gC,EAhDjCyB,IACA,EAAAC,EAAAC,eAyDA,WACE,MAEMC,EAFwB3C,EAAgB4C,QAAO,CAACC,EAAQC,EAAOC,IAAUA,EAAMC,QAAQH,KAAYC,IAE/DG,KAAIC,GAChC,8GACoDA,gCAE/DC,KAAK,IAERvD,EAAYqC,mBAAmB,YAAaU,E,CAjE9CS,GAiGArD,EAAcE,iBAAiB,SAE/B,SAAyCC,GAEvC,GAA6B,SAAzBA,EAAMS,OAAO0C,QAAoB,OACrCnD,EAAMS,OAAOL,UAAUgD,OAAO,gBAC9B,MAAMC,EAAiBrD,EAAMS,OAAO6C,QAAQC,GAC5CxC,aAAayC,WAAW,OAAOH,MAC/BI,SAASC,Q","sources":["src/favorites.js","src/js/favorites-recipes.js"],"sourcesContent":["import './js/burger-menu';\nimport './js/favorites-recipes';\nimport './js/footer';\nimport './js/render-cards';\nimport './js/change-theme';\nimport './js/order.modal';\nimport './js/pop-up-modal';\nimport './js/rating-modal';\n","import { all } from 'axios';\nimport { initRatings } from './rating-modal';\n\n\nconst favorCatBox = document.querySelector('.favorites__categories-list');\nconst favorGallBox = document.querySelector('.favorites__gallery-list');\nconst categoriesArray = [];\n\nfavorCatBox.addEventListener('click', filterCards);\n\ngetFromLocalStorage()\ninitRatings()\nrenderCategoriesBtn()\n\nfunction getFromLocalStorage() {\n    \n  for (let key in localStorage) {\n\n    if (key.length >= 24 && !key.includes(' ')) {\n          \n      try {\n        const value = localStorage.getItem(key);\n        const parsedValue = JSON.parse(value);\n        const notAtended = document.querySelector('.favorites__not-atendent');\n        const catList = document.querySelector('.favorites__categories-list');\n        catList.classList.remove('is-hidden');\n        notAtended.classList.add('is-hidden');\n        const favoriteCard = `<li class=\"favorites__gallery-list-item\" data-categories=\"${parsedValue.category}\">\n          <div class=\"favorites__card\">\n            <img src=\"${parsedValue.preview}\" alt=\"${parsedValue.title}\" class=\"favorites__card-image\">\n            <div class=\"favorites__card-info\">\n              <h2 class=\"favorites__card-tittle\">${parsedValue.title}</h2>\n              <p class=\"favorites__card-description\">${parsedValue.description}</p>\n              <div class=\"rating card__rating\"><p class=\"rating__value\">${parsedValue.rating}</p></div>\n              <button class=\"favorites__card-btn\">See recipe</button>\n            </div>\n            <button class=\"favorites__card-heart\" type=\"button\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" class=\"favorites__svg-heart\" data-id=\"${parsedValue._id}\">\n        <path class=\"favorites__svg-path\" data-id=\"${parsedValue._id}\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n            d=\"M10.994 4.708C9.162 2.565 6.105 1.988 3.81 3.95c-2.296 1.962-2.62 5.242-.816 7.563 1.5 1.929 6.037 5.998 7.524 7.315.166.147.25.221.346.25a.464.464 0 0 0 .262 0c.097-.029.18-.103.347-.25 1.487-1.317 6.025-5.386 7.524-7.315 1.803-2.32 1.52-5.622-.816-7.563-2.336-1.942-5.353-1.386-7.186.757Z\"\n            clip-rule=\"evenodd\" />\n        </svg>\n        </button>\n          </div>\n        </li>`;\n\n        categoriesArray.push(parsedValue.category)\n          \n        favorGallBox.insertAdjacentHTML('beforeend', favoriteCard);\n        \n      } catch (error) {\n        console.log(`Key: ${key}, Error parsing value: `, error);\n      }\n    } else {\n      if (window.innerWidth < 768) {\n        const imageBox = document.querySelector('.favorites__image-box');\n        const notAtended = document.querySelector('.favorites__not-atendent')\n        imageBox.classList.add('is-hidden');\n        notAtended.classList.add('favorites__not-atendent-empty');\n      }\n      \n    }\n  }\n\n  \n}\n\n\nfunction renderCategoriesBtn() {\n  const uniqueCategoriesArray = categoriesArray.filter((course, index, array) => array.indexOf(course) === index)\n  \n  const renderArray = uniqueCategoriesArray.map(item => {\n        return  `<li class=\"favorites__categories-item\">\n          <button type=\"button\" class=\"favorites__categories-btn\">${item}</button>\n          </li>`\n  }).join('')\n\n  favorCatBox.insertAdjacentHTML('beforeend', renderArray);\n  \n}\n\nfunction filterCards(event) {\n  \n  const categories = document.querySelectorAll('.favorites__gallery-list-item') // массив лишек\n  const allCatBtn = document.querySelector('.favorites__all-categories-btn'); //кнопка все категории\n  allCatBtn.classList.remove('favorites__all-cat-chose-btn')\n\n  \n  categories.forEach((category,) => {  //category в цикле это лишка\n    category.classList.remove('favorites__all-cat-chose-btn');\n    category.classList.remove('is-hidden')\n    \n    \n    const dataAtrValue = category.getAttribute('data-categories')\n    if (dataAtrValue !== event.target.textContent) {\n      \n      \n      if (event.target.textContent.trim().toLowerCase() === 'all categories') {\n        allCatBtn.classList.add('favorites__all-cat-chose-btn');\n        \n        return\n      }\n      category.classList.add('is-hidden');\n      \n    }\n  })\n}\n\n\nfavorGallBox .addEventListener('click', removeFromLocalStorageFavorites);\n\nfunction removeFromLocalStorageFavorites(event) {\n  \n  if (event.target.tagName !== 'path') return\n  event.target.classList.toggle('heart-svg-bg');\n  const currentHeartId = event.target.dataset.id;\n  localStorage.removeItem(`\"fav${currentHeartId}\"`)\n  location.reload();\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["parcelRequire","$04debf2c8322b7a0$var$favorCatBox","document","querySelector","$04debf2c8322b7a0$var$favorGallBox","$04debf2c8322b7a0$var$categoriesArray","addEventListener","event","categories","querySelectorAll","allCatBtn","classList","remove","forEach","category","getAttribute","target","textContent","trim","toLowerCase","add","key","localStorage","length","includes","value","getItem","parsedValue","JSON","parse","notAtended","favoriteCard","preview","title","description","rating","_id","push","insertAdjacentHTML","error","console","log","window","innerWidth","imageBox","$04debf2c8322b7a0$var$getFromLocalStorage","$jhjcb","initRatings","renderArray","filter","course","index","array","indexOf","map","item","join","$04debf2c8322b7a0$var$renderCategoriesBtn","tagName","toggle","currentHeartId","dataset","id","removeItem","location","reload"],"version":3,"file":"Favorites.0a1f5199.js.map"}